{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Payment Successful â€¢ WestLinks Exchange</title>
  <link rel="stylesheet" href="{% static 'css/app.css' %}">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
</head>

<body>
  <header class="cvp-header">
    <div class="cvp-header-inner">
      <a href="/" class="cvp-brand">
        <img src="{% static 'images/logo.jpg' %}" alt="WestLinks Exchange" style="height: 36px; width: auto;">
        <span style="margin-left: 0.75rem;">WestLinks Exchange</span>
      </a>
      <nav class="cvp-nav">
        <a href="/dashboard" class="cvp-link">Dashboard</a>
        <a href="/profile" class="cvp-link">Profile</a>
      </nav>
    </div>
  </header>

  <section class="cvp-container" style="margin-top: 3rem; margin-bottom: 3rem;">
    <div class="glass-card" style="max-width: 720px; margin: 0 auto; padding: 2rem;">
      <div style="display:flex; align-items:center; gap:1rem;">
        <i data-lucide="check-circle"
          style="width: 40px; height: 40px; color: {{ success|yesno:'var(--highlight-green),#ef4444' }};"></i>
        <div>
          <h1 style="font-size:1.75rem; font-weight:800; margin:0;">
            {% if success %}
            Payment successful
            {% else %}
            Payment verification failed
            {% endif %}
          </h1>
          <p class="text-secondary" style="margin-top:0.25rem;">
            {% if success %}
            Your payment has been confirmed successfully.
            Our system is processing the delivery of your asset to the wallet you provided.
            {% else %}
            We could not verify this payment at the moment.
            If you completed the payment, please contact support with your reference code below.
            {% endif %}
          </p>
        </div>
      </div>

      <div style="margin-top:1.5rem; display:grid; grid-template-columns:1fr 1fr; gap:1rem;">
        <div class="glass-card" style="padding:1rem;">
          <div class="text-secondary" style="font-size:0.875rem;">Reference</div>
          <div class="font-mono" style="font-weight:600;">{{ reference }}</div>
        </div>
        <div class="glass-card" style="padding:1rem;">
          <div class="text-secondary" style="font-size:0.875rem;">Status</div>
          <div style="font-weight:600; color: {% if success %}var(--highlight-green){% else %}#ef4444{% endif %};">
            {{ status|capfirst }} {{ success|yesno:'(Success,Failed)' }}</div>
        </div>
      </div>

      <div style="margin-top:2rem; display:flex; gap:0.75rem;">
        <a href="/dashboard" class="btn {% if success %}btn-success{% else %}btn-secondary{% endif %}">Go to
          Dashboard</a>
        <a href="/buy" class="btn btn-primary">Start a New Buy</a>
      </div>
    </div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      if (window.lucide && lucide.createIcons) lucide.createIcons();
    });
  </script>
</body>

</html>